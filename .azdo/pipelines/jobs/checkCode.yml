steps:
  - checkout: self
    fetchDepth: 0

  - task: UseDotNet@2
    displayName: "Use .NET SDK"
    inputs:
      version: $(DotNetVersion)

  - task: RoslynAnalyzers@3
    inputs:
      userProvideBuildInfo: "msBuildInfo"
      msBuildArchitecture: "DotNetCore"
      msBuildCommandline: 'C:\hostedtoolcache\windows\dotnet\dotnet.exe build $(Build.SourcesDirectory)\$(SolutionName)'

  - task: CredScan@3
    inputs:
      outputFormat: "csv"
      toolVersion: Latest
      verboseOutput: true
